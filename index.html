<!DOCTYPE html>
<html>

<head>

    <title>Openstreetmap Website</title>
    <meta charset="UTF-8">
    <meta http-equiv="content-script-type" content="text/javascript" />
    <meta http-equiv="content-style-type" content="text/css" />
    <meta http-equiv="content-language" content="en" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css" integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ=="
        crossorigin="" />
    <link rel="stylesheet" type="text/css" href="Leaflet.markercluster-1.0.4/dist/MarkerCluster.css"></link>
    <link rel="stylesheet" type="text/css" href="Leaflet.markercluster-1.0.4/dist/MarkerCluster.Default.css"></link>
    <!-- Make sure you put this AFTER Leaflet's CSS -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js" integrity="sha512-lInM/apFSqyy1o6s89K4iQUKg6ppXEgsVxT35HbzUupEVRh2Eu9Wdl4tHj7dZO0s1uvplcYGmt3498TtHq+log=="
        crossorigin=""></script>
    <script src="js/leaflet.ajax.min.js"></script>
    <script type="text/javascript" src="Leaflet.markercluster-1.0.4/dist/leaflet.markercluster.js"></script>
    <script type="text/javascript" src="JS/geojsonHandler.js"></script>
    <style>
        #mapid {
            height: 850px;
            width: 850px;
        }
    </style>

</head>

<body>

    <h1>Simple Website with Leaflet</h1>
    <div id="mapid"></div>
    <script>
        var mymap = L.map('mapid', {
            maxZoom: 18
        }).setView([47.2770, 8.7150], 10.5);

        L.tileLayer('https://{s}.tile.openstreetmap.se/hydda/full/{z}/{x}/{y}.png', {
            maxZoom: 18,
            attribution: 'Tiles courtesy of <a href="http://openstreetmap.se/" target="_blank">OpenStreetMap Sweden</a> &mdash; Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        }).addTo(mymap);

        var geoJsonData = ("GeoJSON/castles.geojson");

        var geoJsonIcon = ("img/castle.png");

        var castles = new L.LayerGroup(),
            layerIcon = L.icon({
                iconUrl: geoJsonIcon,
                iconSize: [20, 20]
            }),
            castles = loadGeojsonCluster(geoJsonData, castles, layerIcon);


        castles.addTo(mymap);

        var vapeNationIcon = L.icon({
            iconUrl: 'img/vn.png',
            iconSize: [50, 50]
        });

        //var mTown = L.marker([47.25758, 8.68723]).addTo(mymap).bindPopup("<b>Hauptstadt vom Universum und meh</b>");
        var vapeio = L.marker([47.41743, 8.59062], {
            icon: vapeNationIcon
        }).addTo(mymap).bindPopup("merci vapeio!");
        /* var drecksDorf = L.marker([47.24044, 8.72197]).addTo(mymap).bindPopup("irgend es drecks dorf");
        var andyHandy = L.marker([47.41314, 8.54224]).addTo(mymap).bindPopup("andy handy isch gsi"); */

        var mTownCircle = L.circle([47.25758, 8.68723], {
            color: 'blue',
            fillColor: 'blue',
            fillOpacity: 0.5,
            radius: 500
        }).addTo(mymap);

        /* var mTownCircle2 = L.circle([47.26058, 8.68723], {
            color: 'red',
            fillColor: 'red',
            fillOpacity: 0.5,
            radius: 300
        }).addTo(mymap); */

        var drecksDorfCircle = L.circle([47.24044, 8.72197], {
            color: 'brown',
            fillColor: '#8B4513',
            fillOpacity: 0.5,
            radius: 500
        }).addTo(mymap);

        var andyHandyCircle = L.circle([47.41314, 8.54224], {
            color: 'red',
            fillColor: '#f03',
            fillOpacity: 0.5,
            radius: 500
        }).addTo(mymap);
    </script>

</body>

</html>